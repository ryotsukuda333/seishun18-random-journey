# ADR 001: アーキテクチャ概要

## ステータス

承認済み (2023-08-15)

## コンテキスト

Seishun18 Random Journeyプロジェクトのアーキテクチャを決定する必要があります。このプロジェクトは、ユーザーにランダムな旅行先を提案するウェブアプリケーションです。

## 決定

以下のアーキテクチャを採用します：

1. **フロントエンド**:
   - Next.js（React）を使用したシングルページアプリケーション
   - Vercelにデプロイ
   - TailwindCSSを使用したスタイリング
   - TypeScriptによる型安全性の確保

2. **バックエンド**:
   - Cloudflare Workersを使用したサーバーレスAPI
   - Honoフレームワークを使用したルーティングとミドルウェア
   - TypeScriptによる型安全性の確保

3. **データベース**:
   - Cloudflare D1（SQLiteベースのサーバーレスデータベース）
   - 旅行先情報の保存

4. **デプロイ**:
   - GitHub Actionsを使用したCI/CD
   - フロントエンドはVercelに自動デプロイ
   - バックエンドはCloudflare Workersに自動デプロイ

## 根拠

- **Next.js**: SEO対応、高速なページロード、サーバーサイドレンダリングの機能を提供
- **Cloudflare Workers**: グローバルに分散したエッジネットワーク上で動作し、低レイテンシーを実現
- **Cloudflare D1**: Workersと統合されたサーバーレスデータベースで、追加のインフラ管理が不要
- **TypeScript**: 型安全性により開発時のエラー検出が容易になり、コードの品質が向上
- **TailwindCSS**: 迅速なUIの構築と一貫したデザインシステムの実装が可能

## 影響

- 開発者はReact、TypeScript、Cloudflare Workersの知識が必要
- サーバーレスアーキテクチャにより、インフラ管理の負担が軽減
- Cloudflareのエコシステム内で統合されたサービスを使用することで、開発とデプロイが簡素化
- 将来的なスケーリングが容易

## 代替案

1. **Firebase + React**: 
   - メリット: 統合されたバックエンドサービス、リアルタイム機能
   - デメリット: コスト増加の可能性、カスタマイズの制限

2. **Express.js + MongoDB + React**:
   - メリット: 柔軟性が高い、広く採用されている技術スタック
   - デメリット: サーバー管理が必要、デプロイが複雑化 